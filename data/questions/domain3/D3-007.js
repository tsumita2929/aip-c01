window.DOMAIN3_QUESTIONS = window.DOMAIN3_QUESTIONS || [];
window.DOMAIN3_QUESTIONS.push({
  "id": "D3-007",
  "domain": 3,
  "task": "3.1",
  "skill": "3.1.3",
  "type": "multiple",
  "difficulty": "hard",
  "question": "ある製薬会社が、Amazon Bedrock のナレッジベースを使用して社内の研究論文データベースから情報を検索・要約するRAGシステムを構築しています。研究者は、回答が実際の論文に基づいていることを検証する必要があります。回答のハルシネーションを最小化し、回答の信頼性を最大化するために実装すべきアプローチを2つ選択してください。",
  "options": [
    {
      "id": "A",
      "text": "ナレッジベースのチャンクサイズを最大値（例: 10,000トークン）に設定し、各チャンクに含まれる情報量を最大化する"
    },
    {
      "id": "B",
      "text": "Amazon Bedrock ガードレールのグラウンディングチェックを有効化し、応答が検索されたソースドキュメントに基づいているかを自動検証する"
    },
    {
      "id": "C",
      "text": "Amazon Bedrock のモデル呼び出しで temperature を 1.0 に設定し、多様な回答候補を生成して最頻出の回答を採用する（Self-consistency 手法）"
    },
    {
      "id": "D",
      "text": "ナレッジベースの検索結果の関連性スコアに最小しきい値を設定し、スコアが閾値を下回る場合は回答生成をせず『十分な情報が見つかりませんでした』と応答する"
    },
    {
      "id": "E",
      "text": "ナレッジベースの埋め込みモデルをドメイン固有のモデルに変更し、研究論文に特化した意味検索の精度を向上させる"
    }
  ],
  "correctAnswers": [
    "B",
    "D"
  ],
  "explanation": "ハルシネーション低減には複数の独立したアプローチの組み合わせが効果的です。D の関連性スコアしきい値の設定は、検索結果の品質が低い場合にモデルが十分な根拠なく回答を生成することを防ぎます。十分な根拠がない場合は明示的にその旨を伝えることで、ハルシネーションリスクを直接的に軽減します。B の Bedrock ガードレールのグラウンディングチェックは、モデルの応答がソースドキュメントに基づいているかを自動検証し、根拠のない応答をブロックまたはフラグ付けする機能で、ハルシネーション検出に直接対応します。A のチャンクサイズ最大化は、関連情報と無関連情報が混在するリスクが高まり、むしろハルシネーションを誘発する可能性があります。C の temperature 1.0 での Self-consistency は推論タスクでは有効な場合がありますが、RAG での知識ベース回答では高 temperature がハルシネーションリスクを高め、計算コストも増加します。E の埋め込みモデル変更は検索精度向上に寄与しますが、検索精度の向上はハルシネーション低減の間接的な対策であり、根拠のない回答を直接防止する仕組みではありません。（スキル3.1.3）",
  "optionExplanations": {
    "A": {
      "correct": false,
      "text": "不正解です。チャンクサイズの最大化は情報量を増やせるものの、関連・無関連情報が混在するリスクが高まり、むしろハルシネーションを誘発する可能性があるため、ハルシネーション最小化という要件を満たしません。"
    },
    "B": {
      "correct": true,
      "text": "正解です。Bedrock ガードレールのグラウンディングチェックは応答がソースドキュメントに基づいているかを自動検証し、根拠のない応答をブロックまたはフラグ付けすることで、ハルシネーション最小化を直接満たします。"
    },
    "C": {
      "correct": false,
      "text": "不正解です。高 temperature での Self-consistency は推論タスクでは有効な場合があるものの、RAG の知識ベース回答ではハルシネーションリスクを高め計算コストも増加するため、ハルシネーション最小化という要件を満たしません。"
    },
    "D": {
      "correct": true,
      "text": "正解です。関連性スコアの最小しきい値を設定し、十分な根拠がない場合は回答生成を控えることで、根拠のないハルシネーション回答を直接的に防止し、ハルシネーション最小化を直接満たします。"
    },
    "E": {
      "correct": false,
      "text": "不正解です。埋め込みモデルの変更は検索精度向上に寄与するものの、ハルシネーション低減の間接的対策であり根拠のない回答を直接防止する仕組みではないため、ハルシネーション最小化という要件を満たしません。"
    }
  },
  "references": [
    {
      "title": "Amazon Bedrock Knowledge Bases",
      "url": "https://docs.aws.amazon.com/bedrock/latest/userguide/knowledge-base.html"
    },
    {
      "title": "Retrieve and Generate with Amazon Bedrock",
      "url": "https://docs.aws.amazon.com/bedrock/latest/userguide/knowledge-base-retrieve-generate.html"
    }
  ]
});
