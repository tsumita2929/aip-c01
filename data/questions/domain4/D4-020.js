window.DOMAIN4_QUESTIONS = window.DOMAIN4_QUESTIONS || [];
window.DOMAIN4_QUESTIONS.push({
  "id": "D4-020",
  "domain": 4,
  "task": "4.3",
  "skill": "4.3.4",
  "type": "multiple",
  "difficulty": "medium",
  "question": "ある企業が Amazon Bedrock Agents を使用して、複数の専門エージェント（データベース検索エージェント、外部API呼び出しエージェント、計算処理エージェント）が協調して動作するマルチエージェントのタスク自動化システムを運用しています。最近、一部のタスクが途中で失敗したり、予期しないツールが呼び出されるケースが増えています。問題の根本原因を特定し、継続的にシステムを改善するために有効なモニタリングアプローチを2つ選択してください。",
  "options": [
    {
      "id": "A",
      "text": "各エージェントステップのツールコールパターンをトレースし、呼び出し順序・入出力パラメータ・実行時間を記録して、正常パターンとの差異を分析する"
    },
    {
      "id": "B",
      "text": "エージェントの最終出力のみを確認し、正しいかどうかを判定する"
    },
    {
      "id": "C",
      "text": "マルチエージェント間のコーディネーション追跡を実装し、エージェント間のメッセージフロー・依存関係・待ち時間を可視化する"
    },
    {
      "id": "D",
      "text": "エージェントのプロンプトテンプレートを毎回手動で確認する"
    },
    {
      "id": "E",
      "text": "各ツールの可用性を年1回ヘルスチェックする"
    }
  ],
  "correctAnswers": [
    "A",
    "C"
  ],
  "explanation": "正解はAとCです。Aのツールコールパターン追跡は、エージェントが各ステップでどのツールをどの順序で呼び出し、どのようなパラメータを渡し、どのような結果を受け取ったかを詳細にトレースします。これにより、予期しないツール呼び出しや失敗の正確な箇所と原因を特定できます。Cのマルチエージェントコーディネーション追跡により、エージェント間のメッセージフローや依存関係を可視化し、ボトルネックや障害の伝播パターンを把握できます。Bの最終出力のみの確認では、途中のどのステップで問題が発生したかを特定できません。Dの手動確認はスケーラブルではなく、動的な問題の検出には不適切です。Eの年1回のヘルスチェックでは頻度が低すぎて運用上の問題を適時に検出できません。（スキル: 4.3.4）",
  "optionExplanations": {
    "A": {
      "correct": true,
      "text": "正解です。ツールコールパターンのトレースは、根本原因の特定と継続的なシステム改善の両方を直接満たします。特に呼び出し順序・入出力パラメータ・実行時間を記録し、正常パターンとの差異分析で予期しないツール呼び出しや失敗の正確な箇所を特定できます。"
    },
    "B": {
      "correct": false,
      "text": "不正解です。エージェントの最終出力のみの確認は結果の正誤判定には有用なものの、途中のどのステップで問題が発生したかを特定できず、根本原因特定の要件を満たしません。"
    },
    "C": {
      "correct": true,
      "text": "正解です。マルチエージェント間のコーディネーション追跡は、根本原因の特定と継続的なシステム改善の両方を直接満たします。特にエージェント間のメッセージフロー・依存関係・待ち時間を可視化し、ボトルネックや障害の伝播パターンを体系的に分析できます。"
    },
    "D": {
      "correct": false,
      "text": "不正解です。プロンプトテンプレートの手動確認は静的な問題の発見には有用なものの、スケーラブルではなく動的に発生する問題の検出には不適切であり、継続的なシステム改善の要件を満たしません。"
    },
    "E": {
      "correct": false,
      "text": "不正解です。年1回のヘルスチェックはツールの可用性確認には有用なものの、頻度が低すぎて運用上の問題を適時に検出できず、根本原因特定の要件を満たしません。"
    }
  },
  "references": [
    {
      "title": "Amazon Bedrock エージェント",
      "url": "https://docs.aws.amazon.com/bedrock/latest/userguide/agents.html"
    },
    {
      "title": "Amazon Bedrock エージェントのトレース",
      "url": "https://docs.aws.amazon.com/bedrock/latest/userguide/trace-events.html"
    },
    {
      "title": "AWS X-Ray とは",
      "url": "https://docs.aws.amazon.com/xray/latest/devguide/aws-xray.html"
    }
  ]
});
