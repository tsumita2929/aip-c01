window.DOMAIN4_QUESTIONS = window.DOMAIN4_QUESTIONS || [];
window.DOMAIN4_QUESTIONS.push({
  "id": "D4-004",
  "domain": 4,
  "task": "4.1",
  "skill": "4.1.4",
  "type": "single",
  "difficulty": "medium",
  "question": "ある Eコマース企業が Amazon Bedrock を使った商品レコメンデーションチャットボットを運用しています。分析の結果、ユーザーからの質問の約40%が「返品ポリシー」「配送時間」「支払い方法」など類似の内容であることが判明しました。これらの類似質問に対するレスポンスのコストとレイテンシーを削減するために最も効果的なアプローチはどれですか。",
  "options": [
    {
      "id": "A",
      "text": "モデルの温度パラメータを0に設定して、同じ入力に対して同じ出力を保証する"
    },
    {
      "id": "B",
      "text": "Amazon ElastiCache for Redis にすべてのモデル応答を完全一致キーで保存する"
    },
    {
      "id": "C",
      "text": "頻出質問をハードコードした静的 FAQ ページに誘導する"
    },
    {
      "id": "D",
      "text": "セマンティックキャッシュを実装し、意味的に類似した質問に対して過去の応答をキャッシュから返す"
    }
  ],
  "correctAnswers": [
    "D"
  ],
  "explanation": "正解はDです。セマンティックキャッシュは、入力テキストの埋め込みベクトルを用いて意味的な類似性を判定し、類似した質問に対してキャッシュされた応答を返します。完全一致ではなく意味的類似性でマッチングするため、表現が多少異なる質問にもヒットし、高いキャッシュヒット率を実現できます。Aの温度0は出力の再現性を高めますが、モデル呼び出し自体は毎回発生するためコスト・レイテンシーの削減にはなりません。Bの完全一致キャッシュは、少しでも表現が異なるとキャッシュミスとなり、自然言語の質問ではヒット率が著しく低くなります。CのFAQページ誘導はチャットボットのユーザー体験を損ないます。（スキル: 4.1.4）",
  "optionExplanations": {
    "A": {
      "correct": false,
      "text": "不正解です。温度パラメータを0に設定すると出力の再現性は高まるものの、モデル呼び出し自体は毎回発生するため、コスト削減・レイテンシー削減のいずれの要件も満たしません。"
    },
    "B": {
      "correct": false,
      "text": "不正解です。完全一致キャッシュはキャッシュヒット時のレイテンシー削減は可能なものの、自然言語の質問では同じ意図でも表現が多様なためヒット率が著しく低く、コスト削減の要件を十分に満たしません。"
    },
    "C": {
      "correct": false,
      "text": "不正解です。静的 FAQ ページへの誘導はコスト削減には寄与するものの、チャットボットのインタラクティブなユーザー体験を損ない、レイテンシー削減の要件とは異なるアプローチです。"
    },
    "D": {
      "correct": true,
      "text": "正解です。セマンティックキャッシュは、コスト削減とレイテンシー削減の両方を直接満たします。特に意味的類似性でマッチングするため、表現が多少異なる質問にも高いヒット率を実現し、最小の運用負荷でコスト・レイテンシーを改善できます。"
    }
  },
  "references": [
    {
      "title": "Amazon Bedrock のプロンプトキャッシュ",
      "url": "https://docs.aws.amazon.com/bedrock/latest/userguide/prompt-caching.html"
    },
    {
      "title": "Amazon ElastiCache とは",
      "url": "https://docs.aws.amazon.com/AmazonElastiCache/latest/red-ug/WhatIs.html"
    }
  ]
});
