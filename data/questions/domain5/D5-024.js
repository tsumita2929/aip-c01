window.DOMAIN5_QUESTIONS = window.DOMAIN5_QUESTIONS || [];
window.DOMAIN5_QUESTIONS.push({
  "id": "D5-024",
  "domain": 5,
  "task": "5.2",
  "skill": "5.2.4",
  "type": "single",
  "difficulty": "hard",
  "question": "ある EC サイトが、Amazon SageMaker でデプロイした商品レコメンデーションモデルを運用しています。SageMaker Model Monitor のデータ品質モニタリングから「データドリフト検出」のアラートが発報されました。運用チームが調査したところ、以下の状況が確認されました。\n\n- モデルの推論レイテンシは正常範囲内（p99: 120ms）\n- エンドポイントのヘルスチェックはすべて正常\n- CloudWatch のモデル呼び出しエラー率は 0%\n- 直近1週間で入力データの「商品カテゴリ」フィールドに新しいカテゴリ値が複数追加された\n- モデルの推論結果のクリック率が直近1週間で 15% 低下している\n\nこの問題の最も可能性の高い根本原因は何ですか？",
  "options": [
    {
      "id": "A",
      "text": "エンドポイントのインスタンスの CPU/メモリリソースが不足し、推論処理が劣化している"
    },
    {
      "id": "B",
      "text": "IAM ロールの権限が不足し、モデルが S3 の特徴量データにアクセスできなくなっている"
    },
    {
      "id": "C",
      "text": "新しい商品カテゴリの追加によりトレーニング時のデータ分布と推論時のデータ分布に乖離が生じ、モデルが未知のカテゴリに対して適切な推論ができなくなっている"
    },
    {
      "id": "D",
      "text": "SageMaker Model Monitor のベースライン設定が古くなり、誤検知のアラートが発生している"
    }
  ],
  "correctAnswers": [
    "C"
  ],
  "explanation": "正解はCです。新しい商品カテゴリの追加は、トレーニング時のデータ分布と推論時のデータ分布の乖離（データドリフト）を引き起こす唯一の原因です。モデルはトレーニング時に存在しなかったカテゴリ値に対して適切なパターンを学習しておらず、推論精度が低下してクリック率の低下に直結しています。Model Monitor のデータ品質モニタリングがこのドリフトを正しく検出しています。A のリソース不足はレイテンシの増加やエラー率の上昇として現れますが、レイテンシは正常範囲内でエラー率も 0% であるため排除されます。B の IAM 権限不足はアクセスエラーとして現れますが、呼び出しエラー率 0% により排除されます。D のベースライン設定の問題であれば、クリック率の低下という実際のビジネスメトリクスの劣化は説明できず、単なる誤検知であれば推論品質に影響は出ません。（スキル5.2.4）",
  "optionExplanations": {
    "A": {
      "correct": false,
      "text": "不正解です。リソース不足であればレイテンシの増加やエラー率の上昇として現れるはずですが、推論レイテンシは正常範囲内（p99: 120ms）でエラー率も 0% であり、本文の除外情報と矛盾します。"
    },
    "B": {
      "correct": false,
      "text": "不正解です。IAM 権限不足であればモデル呼び出し時にアクセスエラーが発生するはずですが、呼び出しエラー率は 0% であり、本文の除外情報と矛盾します。"
    },
    "C": {
      "correct": true,
      "text": "正解です。新しい商品カテゴリの追加によるデータ分布の乖離は、データドリフトアラートの発報とクリック率の低下を説明できる唯一の原因です。モデルが未知のカテゴリに対して適切な推論ができないことが、レコメンデーション品質の低下に直結しています。"
    },
    "D": {
      "correct": false,
      "text": "不正解です。ベースライン設定の問題による誤検知であれば、クリック率が 15% 低下するという実際のビジネスメトリクスの劣化は説明できません。実際のパフォーマンス低下が確認されているため、誤検知ではありません。"
    }
  },
  "references": [
    {
      "title": "Amazon SageMaker Model Monitor - データ品質のモニタリング",
      "url": "https://docs.aws.amazon.com/sagemaker/latest/dg/model-monitor-data-quality.html"
    },
    {
      "title": "Amazon SageMaker Model Monitor - ベースラインの作成",
      "url": "https://docs.aws.amazon.com/sagemaker/latest/dg/model-monitor-create-baseline.html"
    }
  ]
});
