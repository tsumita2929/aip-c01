window.DOMAIN5_QUESTIONS = window.DOMAIN5_QUESTIONS || [];
window.DOMAIN5_QUESTIONS.push({
  "id": "D5-007",
  "domain": 5,
  "task": "5.1",
  "skill": "5.1.7",
  "type": "multiple",
  "difficulty": "hard",
  "question": "ある旅行会社が Amazon Bedrock エージェントを使用して、フライト検索、ホテル予約、旅程作成を自動化するマルチステップエージェントを構築しています。本番リリース前に、エージェントの品質を包括的に評価する仕組みを構築する必要があります。要件は次のとおりです。\n\n・エージェントが複数ツールを正しい順序で呼び出し、最終的に正確な旅程を生成しているかを検証できること\n・評価は可能な限り自動化し、繰り返し実施できること\n・評価結果をステークホルダーに定量的に報告できること\n\nこれらの要件を満たすために適切なアプローチを2つ選択してください。",
  "options": [
    {
      "id": "A",
      "text": "Amazon CloudWatch メトリクスで Lambda 関数のコールドスタート時間と Duration を収集し、CloudWatch ダッシュボードでインフラパフォーマンスのみを可視化する"
    },
    {
      "id": "B",
      "text": "期待されるツール呼び出しシーケンスと最終出力を含むテストケースを作成し、Amazon Bedrock のエージェント評価機能でマルチステップ推論の正確性（中間ステップの論理的整合性と最終出力の一致率）を自動測定する"
    },
    {
      "id": "C",
      "text": "Amazon Bedrock の基盤モデルをファインチューニングしてエージェントの応答精度を向上させ、ファインチューニングのトレーニングロスの推移のみを品質指標とする"
    },
    {
      "id": "D",
      "text": "多様な旅行シナリオ（国内/海外、片道/往復、1名/複数名）をカバーするエンドツーエンドテストスイートを構築し、タスク完了率（ユーザーの要求した旅程が正しく完成する割合）をCI/CDパイプラインで定期的に測定・レポートする"
    },
    {
      "id": "E",
      "text": "Amazon S3 にエージェントのログを蓄積し、Amazon Athena で月次バッチクエリを実行してストレージ使用量とログサイズの推移のみをレポートする"
    }
  ],
  "correctAnswers": [
    "B",
    "D"
  ],
  "explanation": "正解はBとDです。Bは、期待されるツール呼び出しシーケンスと最終出力を含むテストケースを作成し、Bedrock のエージェント評価機能でマルチステップ推論の正確性を自動測定するアプローチです。各中間ステップが論理的に正しいか、最終出力が期待と一致するかを定量的に評価でき、自動化と定量報告の要件を満たします。Dは、多様な旅行シナリオをカバーするエンドツーエンドテストスイートを構築し、タスク完了率を CI/CD パイプラインで定期的に測定するアプローチです。実際のビジネスシナリオに基づく包括的な品質検証が可能で、繰り返し実施と定量報告の要件を満たします。AのCloudWatch での Lambda メトリクス監視はインフラレベルのパフォーマンス指標のみを提供し、エージェントの推論品質やツール呼び出しの正確性は評価できません。Cのファインチューニングのトレーニングロスはモデル学習の進捗指標であり、エージェントの実行時品質の評価には使用できません。また、Bedrock エージェントの品質問題に対してファインチューニングは適切なアプローチではありません。EのS3ログのストレージ使用量はインフラ管理の指標であり、エージェントのタスク完了精度とは無関係です。（スキル5.1.7）",
  "optionExplanations": {
    "A": {
      "correct": false,
      "text": "不正解です。CloudWatch での Lambda コールドスタート時間と Duration の監視はインフラレベルのパフォーマンス指標のみを提供し、エージェントが正しい順序でツールを呼び出しているか、最終的に正確な旅程を生成しているかという品質評価には対応できません。"
    },
    "B": {
      "correct": true,
      "text": "正解です。期待されるツール呼び出しシーケンスと最終出力を含むテストケースによるエージェント評価は、マルチステップ推論の正確性を自動的かつ定量的に測定でき、自動化・繰り返し実施・定量報告の3要件をすべて満たします。"
    },
    "C": {
      "correct": false,
      "text": "不正解です。ファインチューニングのトレーニングロスはモデル学習の進捗を示す指標であり、エージェントが本番環境で正確にタスクを完了できるかの品質評価には使用できません。エージェントの品質問題はプロンプトやツール定義の改善で対処すべきであり、ファインチューニングは適切なアプローチではありません。"
    },
    "D": {
      "correct": true,
      "text": "正解です。多様な旅行シナリオをカバーするエンドツーエンドテストスイートとタスク完了率の定期測定は、エージェントが実際のビジネスシナリオで正確に機能しているかを包括的に検証でき、繰り返し実施と定量報告の要件を直接満たします。"
    },
    "E": {
      "correct": false,
      "text": "不正解です。S3 へのログ蓄積とストレージ使用量の月次レポートはインフラ管理の観点でしかなく、エージェントのタスク完了精度やツール呼び出しの正確性を評価する機能はありません。品質の定量的報告という要件を満たしません。"
    }
  },
  "references": [
    {
      "title": "Amazon Bedrock エージェント",
      "url": "https://docs.aws.amazon.com/bedrock/latest/userguide/agents.html"
    },
    {
      "title": "Amazon Bedrock エージェントの評価",
      "url": "https://docs.aws.amazon.com/bedrock/latest/userguide/agents-test.html"
    }
  ]
});
