window.DOMAIN1_QUESTIONS = window.DOMAIN1_QUESTIONS || [];
window.DOMAIN1_QUESTIONS.push({
  "id": "D1-060",
  "domain": 1,
  "task": "1.6",
  "skill": "1.6.5",
  "type": "multiple",
  "difficulty": "hard",
  "question": "ある企業が、Amazon Bedrock の FM を使用した顧客対応チャットボットを運用しています。月間10万件の会話が発生しており、顧客満足度調査で「回答が曖昧」「質問に直接答えていない」というフィードバックが増加しています。開発チームは FM の出力品質を継続的に改善するフィードバックループを構築したいと考えています。要件として、(1) 実際のユーザー体験に基づいてプロンプトの問題箇所を特定できること、(2) 改善の効果を定量的に測定できること、が求められています。効果的なプロンプト改良手法を2つ選択してください。",
  "options": [
    {
      "id": "A",
      "text": "各応答に「役に立った/役に立たなかった」ボタンを設置し、低評価の応答をDynamoDBに蓄積する。週次で低評価応答のパターン（曖昧な回答、質問の取り違え等）をカテゴリ別に分析し、該当パターンに対するシステムプロンプトの制約や指示を具体化して改善する。改善前後の低評価率を比較して効果を測定する"
    },
    {
      "id": "B",
      "text": "Bedrock のモデル評価ジョブを毎日実行し、BERTScore と ROUGE スコアで FM の応答品質を自動測定する。スコアが閾値を下回った場合に SNS で開発チームに通知し、プロンプトの改善を促す"
    },
    {
      "id": "C",
      "text": "低評価応答の中から改善後の理想的な応答を人手で作成し、Few-shot プロンプトの事例として追加する。「曖昧な質問に対する具体的な回答例」や「技術的な問い合わせに対する構造化された回答例」など、問題パターンに対応した成功事例を含めて FM の出力パターンをガイドする"
    },
    {
      "id": "D",
      "text": "Bedrock Prompt Management で複数のプロンプトバリアントを作成し、トラフィックの50%ずつに異なるバリアントを配信するA/Bテストを実施する。CloudWatch メトリクスで各バリアントの応答時間とスループットを比較し、パフォーマンスが良いバリアントを採用する"
    },
    {
      "id": "E",
      "text": "FM の temperature を0.1から0.01に下げ、top_p を0.9から0.5に下げて出力の決定性を最大化する。決定的な出力により回答の一貫性が向上し、曖昧な表現が減少する"
    }
  ],
  "correctAnswers": [
    "A",
    "C"
  ],
  "explanation": "A: ユーザーフィードバック（役に立った/役に立たなかった）の収集と低評価パターンの分析は、実際のユーザー体験に基づいてプロンプトの具体的な問題箇所を特定できます。改善前後の低評価率の比較により効果の定量的測定も可能です。C: 低評価応答から特定された問題パターンに対して、理想的な応答の成功事例をFew-shotプロンプトに追加することで、FMの出力パターンを具体的にガイドし、「曖昧な回答」や「質問の取り違え」を改善できます。モデル評価ジョブ（B）は品質の定期測定に有効ですが、BERTScore や ROUGE は参照テキストとの類似度を測定する指標であり、「回答が曖昧」「質問に直接答えていない」というユーザー体験の問題箇所を特定するには不十分です。また、月間10万件の会話すべてに参照テキストを用意することは現実的ではありません。A/Bテスト（D）はプロンプトバリアントの比較に有効な手法ですが、応答時間とスループットはインフラのパフォーマンス指標であり、「回答の曖昧さ」や「質問への適合度」という出力品質の問題を測定する指標ではありません。出力品質のA/Bテストにはユーザーフィードバック率やタスク完了率の比較が必要です。temperature と top_p の調整（E）は出力の多様性を制御しますが、「回答が曖昧」という問題はプロンプトの指示が不十分であることが原因であり、パラメータの調整では解決しません。決定性を高めても、プロンプトに具体的な回答構造や制約が定義されていなければ同じ曖昧な回答が繰り返し生成されるだけです。（スキル1.6.5）",
  "optionExplanations": {
    "A": {
      "correct": true,
      "text": "正解です。ユーザーフィードバックの収集と低評価パターンのカテゴリ別分析により、プロンプトの具体的な問題箇所を特定でき、改善前後の低評価率比較で効果を定量的に測定できます。実際のユーザー体験に基づくデータ駆動型の改善サイクルを実現します。"
    },
    "B": {
      "correct": false,
      "text": "不正解です。BERTScore や ROUGE は参照テキストとの類似度指標であり、「回答が曖昧」「質問に直接答えていない」というユーザー体験の問題箇所の特定には不十分です。月間10万件の会話すべてに参照テキストを用意することも現実的ではありません。"
    },
    "C": {
      "correct": true,
      "text": "正解です。低評価パターンに対応した理想的な応答をFew-shotの成功事例として追加することで、FMの出力パターンを具体的にガイドし、曖昧な回答や質問の取り違えを改善できます。問題パターンに直接対応した事例の追加は即効性の高い改善手法です。"
    },
    "D": {
      "correct": false,
      "text": "不正解です。応答時間とスループットはインフラのパフォーマンス指標であり、「回答の曖昧さ」という出力品質の問題を測定する指標ではありません。A/Bテスト自体は有効な手法ですが、測定する指標がユーザーフィードバック率やタスク完了率ではないため、品質改善の効果測定要件を満たせません。"
    },
    "E": {
      "correct": false,
      "text": "不正解です。temperature と top_p は出力の多様性を制御するパラメータですが、「回答が曖昧」という問題はプロンプトの指示不足が原因です。パラメータを調整しても、プロンプトに具体的な回答構造や制約が定義されていなければ同じ曖昧な回答が繰り返されるだけで、問題は解決しません。"
    }
  },
  "references": [
    {
      "title": "Amazon Bedrock プロンプトエンジニアリング",
      "url": "https://docs.aws.amazon.com/bedrock/latest/userguide/prompt-engineering-guidelines.html"
    },
    {
      "title": "Amazon Bedrock プロンプト管理",
      "url": "https://docs.aws.amazon.com/bedrock/latest/userguide/prompt-management.html"
    }
  ]
});
