window.DOMAIN1_QUESTIONS = window.DOMAIN1_QUESTIONS || [];
window.DOMAIN1_QUESTIONS.push({
  "id": "D1-042",
  "domain": 1,
  "task": "1.5",
  "skill": "1.5.1",
  "type": "single",
  "difficulty": "easy",
  "question": "ある開発者が、Amazon Bedrock ナレッジベースに法務契約書（1ドキュメントあたり平均30ページ）を取り込む際のチャンキング戦略を選択しています。契約書には条項番号付きのセクション構造があり、各セクションの長さは大きく異なります。ドキュメントの論理構造を保持しつつチャンキングするために、最も適切な戦略はどれですか？",
  "options": [
    {
      "id": "A",
      "text": "固定サイズチャンキングでチャンクサイズを512トークン、オーバーラップを20%に設定する"
    },
    {
      "id": "B",
      "text": "セマンティックチャンキングを使用して、テキストの意味的な境界に基づいてチャンクを分割する"
    },
    {
      "id": "C",
      "text": "階層型チャンキングを使用して、親チャンク（条項全体）と子チャンク（個別段落）を関連付ける"
    },
    {
      "id": "D",
      "text": "デフォルトチャンキングを使用して、Bedrock に最適な分割を自動的に行わせる"
    }
  ],
  "correctAnswers": [
    "B"
  ],
  "explanation": "セマンティックチャンキングは、テキストの意味的な境界（トピックの変化点）に基づいてチャンクを分割するため、条項番号付きのセクション構造を持つ法務契約書のような論理構造を保持するのに最適です。固定サイズチャンキング（A）はセクションの途中で分割される可能性があり、論理構造が失われます。階層型チャンキング（C）は親子関係を保持できますが、セクション長が大きく異なる場合に固定的な階層構造では柔軟性に欠けることがあり、セマンティックチャンキングの方が内容の意味的まとまりを正確に捉えます。デフォルトチャンキング（D）は簡易的な設定で使えますが、法務文書の構造に最適化されたチャンキングは行われません。（スキル1.5.1）",
  "optionExplanations": {
    "A": {
      "correct": false,
      "text": "不正解です。固定サイズチャンキングは実装がシンプルな点はあるものの、セクションの途中で分割される可能性があり、条項番号付きの論理構造保持の要件を満たせません。"
    },
    "B": {
      "correct": true,
      "text": "正解です。セマンティックチャンキングは、テキストの意味的な境界に基づく分割と論理構造の保持の要件を直接満たします。特に法務契約書の条項構造を正確に捉えて最小の運用負荷で実現できます。"
    },
    "C": {
      "correct": false,
      "text": "不正解です。階層型チャンキングは親子関係を保持できる点はあるものの、セクション長が大きく異なる場合にセマンティックチャンキングの方が意味的まとまりを正確に捉えられ、論理構造保持の要件をより適切に満たします。"
    },
    "D": {
      "correct": false,
      "text": "不正解です。デフォルトチャンキングは簡易的な設定で使える点はあるものの、法務文書の構造に最適化されたチャンキングは行われず、論理構造保持の要件を満たせません。"
    }
  },
  "references": [
    {
      "title": "Amazon Bedrock ナレッジベースのチャンキング",
      "url": "https://docs.aws.amazon.com/bedrock/latest/userguide/knowledge-base-chunking-parsing.html"
    }
  ]
});
